"use strict";(self.webpackChunkreact_start_template=self.webpackChunkreact_start_template||[]).push([[734],{"./src/forms/ProductForm/ProductForm.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AddProduct:()=>AddProduct,EditProduct:()=>EditProduct,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ProductForm_stories});var react=__webpack_require__("./node_modules/react/index.js"),ProductSummary=__webpack_require__("./src/components/ProductSummary/ProductSummary.tsx"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),dist_index_esm=__webpack_require__("./node_modules/react-currency-input-field/dist/index.esm.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),ProductForm_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/forms/ProductForm/ProductForm.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ProductForm_module.Z,options);const ProductForm_ProductForm_module=ProductForm_module.Z&&ProductForm_module.Z.locals?ProductForm_module.Z.locals:void 0;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ProductForm=function ProductForm(_ref){var product=_ref.product,onSubmit=_ref.onSubmit,_useForm=(0,index_esm.cI)({defaultValues:product||{id:"",price:0,imageUrl:"",title:"",description:""}}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,control=_useForm.control,errors=_useForm.formState.errors;return(0,jsx_runtime.jsxs)("form",{className:ProductForm_ProductForm_module.form,onSubmit:handleSubmit((function submitHandler(data){onSubmit(data)})),children:[(0,jsx_runtime.jsx)("h2",{className:ProductForm_ProductForm_module.title,children:product?"Редактировать продукт":"Добавить продукт"}),(0,jsx_runtime.jsxs)("div",{className:ProductForm_ProductForm_module.field,children:[(0,jsx_runtime.jsx)("label",{htmlFor:"title",className:ProductForm_ProductForm_module.label,children:"Название"}),(0,jsx_runtime.jsx)("input",_objectSpread({id:"title",className:ProductForm_ProductForm_module.input},register("title",{required:"Введите название продукта"}))),errors.title&&(0,jsx_runtime.jsx)("p",{className:ProductForm_ProductForm_module.error,children:errors.title.message})]}),(0,jsx_runtime.jsxs)("div",{className:ProductForm_ProductForm_module.field,children:[(0,jsx_runtime.jsx)("label",{htmlFor:"price",className:ProductForm_ProductForm_module.label,children:"Цена"}),(0,jsx_runtime.jsx)(index_esm.Qr,{control,name:"price",rules:{required:"Введите цену",validate:function validate(value){return value>0||"Цена должна быть больше 0"}},render:function render(_ref2){var field=_ref2.field;return(0,jsx_runtime.jsx)(dist_index_esm.ZP,{id:"price",className:ProductForm_ProductForm_module.input,value:field.value,onValueChange:function onValueChange(value){return field.onChange(value)},decimalsLimit:2,decimalSeparator:",",groupSeparator:" ",prefix:"₽ ",placeholder:"Введите цену"})}}),errors.price&&(0,jsx_runtime.jsx)("p",{className:ProductForm_ProductForm_module.error,children:errors.price.message})]}),(0,jsx_runtime.jsxs)("div",{className:ProductForm_ProductForm_module.field,children:[(0,jsx_runtime.jsx)("label",{htmlFor:"imageUrl",className:ProductForm_ProductForm_module.label,children:"URL изображения"}),(0,jsx_runtime.jsx)("input",_objectSpread({id:"imageUrl",className:ProductForm_ProductForm_module.input},register("imageUrl",{required:"Введите URL изображения"}))),errors.imageUrl&&(0,jsx_runtime.jsx)("p",{className:ProductForm_ProductForm_module.error,children:errors.imageUrl.message})]}),(0,jsx_runtime.jsxs)("div",{className:ProductForm_ProductForm_module.field,children:[(0,jsx_runtime.jsx)("label",{htmlFor:"description",className:ProductForm_ProductForm_module.label,children:"Описание"}),(0,jsx_runtime.jsx)("textarea",_objectSpread({id:"description",className:ProductForm_ProductForm_module.textarea},register("description",{required:"Введите описание"}))),errors.description&&(0,jsx_runtime.jsx)("p",{className:ProductForm_ProductForm_module.error,children:errors.description.message})]}),(0,jsx_runtime.jsx)("button",{type:"submit",className:ProductForm_ProductForm_module.button,children:product?"Сохранить изменения":"Добавить продукт"})]})};ProductForm.displayName="ProductForm";const ProductForm_ProductForm=ProductForm;try{ProductForm.displayName="ProductForm",ProductForm.__docgenInfo={description:"",displayName:"ProductForm",props:{product:{defaultValue:null,description:"",name:"product",required:!1,type:{name:"ProductSummaryProps"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(data: ProductSummaryProps) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/forms/ProductForm/ProductForm.tsx#ProductForm"]={docgenInfo:ProductForm.__docgenInfo,name:"ProductForm",path:"src/forms/ProductForm/ProductForm.tsx#ProductForm"})}catch(__react_docgen_typescript_loader_error){}var GenericListItemFactory=__webpack_require__("./src/components/Helpers/GenericListItemFactory.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const ProductForm_stories={title:"forms/ProductForm",component:ProductSummary.Z};var initialProduct=(0,GenericListItemFactory.wR)(),AddProduct={render:function render(){return(0,jsx_runtime.jsx)(RenderAddProduct,{})}},EditProduct={render:function render(){return(0,jsx_runtime.jsx)(RenderEditProduct,{})}},RenderAddProduct=function RenderAddProduct(){var _useState2=_slicedToArray((0,react.useState)(null),2),newProduct=_useState2[0],setNewProduct=_useState2[1];return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{children:"Добавление нового продукта"}),(0,jsx_runtime.jsx)(ProductForm_ProductForm,{onSubmit:function handleAdd(productData){var createdProduct=new ProductSummary.s("".concat(Date.now()),productData.price,productData.imageUrl,productData.title,productData.description);setNewProduct(createdProduct)}}),(0,jsx_runtime.jsx)("h3",{children:"Добавленный продукт:"}),newProduct?newProduct.createComponent():(0,jsx_runtime.jsx)("p",{children:"Продукт ещё не добавлен"})]})};RenderAddProduct.displayName="RenderAddProduct";var RenderEditProduct=function RenderEditProduct(){var initialProductAsProps=initialProduct,_useState4=_slicedToArray((0,react.useState)(new ProductSummary.s(initialProductAsProps.id,initialProductAsProps.price,initialProductAsProps.imageUrl,initialProductAsProps.title,initialProductAsProps.description)),2),modifiedProduct=_useState4[0],setModifiedProduct=_useState4[1];return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{children:"Редактирование продукта"}),(0,jsx_runtime.jsx)(ProductForm_ProductForm,{product:modifiedProduct,onSubmit:function handleEdit(productData){var updatedProduct=new ProductSummary.s(modifiedProduct.id,productData.price,productData.imageUrl,productData.title,productData.description);setModifiedProduct(updatedProduct)}}),(0,jsx_runtime.jsx)("h3",{children:"Обновлённый продукт:"}),modifiedProduct.createComponent()]})};RenderEditProduct.displayName="RenderEditProduct",AddProduct.parameters={...AddProduct.parameters,docs:{...AddProduct.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    return <RenderAddProduct />;\n  }\n}",...AddProduct.parameters?.docs?.source}}},EditProduct.parameters={...EditProduct.parameters,docs:{...EditProduct.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    return <RenderEditProduct />;\n  }\n}",...EditProduct.parameters?.docs?.source}}};const __namedExportsOrder=["AddProduct","EditProduct"]},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/forms/ProductForm/ProductForm.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".aVPpGbqg5sxxct5RthZ4{display:flex;flex-direction:column;gap:20px;width:100%;max-width:400px;margin:0 auto;padding:20px;border-radius:10px;box-shadow:0 4px 8px var(--myApp-shadow-color);background-color:var(--myApp-background-color)}.YGzwI58as8lC2PqPdGnU{font-size:1.8rem;font-weight:bold;text-align:center;color:var(--myApp-text-color);margin-bottom:10px}.kDqQH9lJ3Gfyov8NqaT_{display:flex;flex-direction:column;gap:5px}.ttJtyFRpESiRMbDnxlLs{font-size:1rem;color:var(--myApp-text-color)}.gkCfy9s_9eAMiOLx4QfY,.bwiPqT6tmP6D7OzHWD3b{padding:10px;border:1px solid var(--myApp-shadow-color);border-radius:5px;background-color:var(--myApp-background-color);color:var(--myApp-text-color);font-size:1rem;width:100%;box-sizing:border-box}.bwiPqT6tmP6D7OzHWD3b{min-height:80px;resize:none}.T2Rytv4S8HSZZCM26xqr{padding:10px 0;border:none;border-radius:5px;background-color:var(--myApp-background-color);color:var(--myApp-text-color);font-size:1rem;font-weight:bold;cursor:pointer;transition:background-color .2s ease-in-out;text-align:center}.T2Rytv4S8HSZZCM26xqr:hover{background-color:var(--myApp-background-color-hover)}.AjJghndJFK_ihQlUmH9W{font-size:.9rem;color:#d9534f}","",{version:3,sources:["webpack://./src/forms/ProductForm/ProductForm.module.scss"],names:[],mappings:"AAAA,sBACE,YAAA,CACA,qBAAA,CACA,QAAA,CACA,UAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,8CAAA,CACA,8CAAA,CAGF,sBACE,gBAAA,CACA,gBAAA,CACA,iBAAA,CACA,6BAAA,CACA,kBAAA,CAGF,sBACE,YAAA,CACA,qBAAA,CACA,OAAA,CAGF,sBACE,cAAA,CACA,6BAAA,CAGF,4CAEE,YAAA,CACA,0CAAA,CACA,iBAAA,CACA,8CAAA,CACA,6BAAA,CACA,cAAA,CACA,UAAA,CACA,qBAAA,CAGF,sBACE,eAAA,CACA,WAAA,CAGF,sBACE,cAAA,CACA,WAAA,CACA,iBAAA,CACA,8CAAA,CACA,6BAAA,CACA,cAAA,CACA,gBAAA,CACA,cAAA,CACA,2CAAA,CACA,iBAAA,CAGF,4BACE,oDAAA,CAGF,sBACE,eAAA,CACA,aAAA",sourcesContent:[".form {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  width: 100%;\n  max-width: 400px;\n  margin: 0 auto;\n  padding: 20px;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px var(--myApp-shadow-color);\n  background-color: var(--myApp-background-color);\n}\n\n.title {\n  font-size: 1.8rem;\n  font-weight: bold;\n  text-align: center;\n  color: var(--myApp-text-color);\n  margin-bottom: 10px;\n}\n\n.field {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\n.label {\n  font-size: 1rem;\n  color: var(--myApp-text-color);\n}\n\n.input,\n.textarea {\n  padding: 10px;\n  border: 1px solid var(--myApp-shadow-color);\n  border-radius: 5px;\n  background-color: var(--myApp-background-color);\n  color: var(--myApp-text-color);\n  font-size: 1rem;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.textarea {\n  min-height: 80px;\n  resize: none;\n}\n\n.button {\n  padding: 10px 0;\n  border: none;\n  border-radius: 5px;\n  background-color: var(--myApp-background-color);\n  color: var(--myApp-text-color);\n  font-size: 1rem;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.2s ease-in-out;\n  text-align: center;\n}\n\n.button:hover {\n  background-color: var(--myApp-background-color-hover);\n}\n\n.error {\n  font-size: 0.9rem;\n  color: #d9534f;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={form:"aVPpGbqg5sxxct5RthZ4",title:"YGzwI58as8lC2PqPdGnU",field:"kDqQH9lJ3Gfyov8NqaT_",label:"ttJtyFRpESiRMbDnxlLs",input:"gkCfy9s_9eAMiOLx4QfY",textarea:"bwiPqT6tmP6D7OzHWD3b",button:"T2Rytv4S8HSZZCM26xqr",error:"AjJghndJFK_ihQlUmH9W"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>esm_browser_v4});const esm_browser_native={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}for(var byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(arr,offset=0){return(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase()}const esm_browser_v4=function v4(options,buf,offset){if(esm_browser_native.randomUUID&&!buf&&!options)return esm_browser_native.randomUUID();var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return unsafeStringify(rnds)}}}]);